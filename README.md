
<h2>Description</h2>
 
  I will be setting up a robust vulnerability management server utilizing OpenVAS. Following this, a virtual machine will be created and configured in Azure.On the virtual machine, I will install outdated software to conduct comprehensive scans, subsequently implementing effective remediation strategies to address any identified vulnerabilities. This approach ensures proactive and efficient vulnerability management, optimizing security measures for the entire system.
 
<br />
 

<h2> Environments & Utilities Used:</h2>

- <b> Azure VM</b> 
- <b> Open VAS</b>
- <b>Windows 10</b>



<h2>Project walk-through:</h2>

**Step 1: Prerequisites**
- Ensure you have a computer with an internet connection.
- Verify that you have an Azure Account. A Free Subscription might be possible.

**Step 2: Creating Your Free Azure Account**
1. Sign up for an Azure Account by visiting [Azure Sign Up](https://azure.microsoft.com/en-us/free/).
2. After signing up, log in to your Azure Account at [Azure Portal](https://portal.azure.com).

**Step 3: Preparing the Vulnerability Management Scanner**
1. Access the Azure Portal at [Azure Portal](https://portal.azure.com).
2. Navigate to the Marketplace and search for "OpenVAS secured and supported by HOSSTED."

<p align="center">
<img src="https://i.imgur.com/Sc1ywJi.png" height="85%" width="85%" alt="Image"/>
</p> 


3. Choose "Start with a pre-set configuration" and select the weakest configuration.
4. Continue to create the Virtual Machine (VM) with these settings:
   - Resource Group: Vulnerability-Management
   - VM Name: OpenVAS (Note region and Vnet – consider East US 2)
   - Authentication: Username → azureuser / Password → Cyberlab123!
   - Monitoring: Disable Boot Diagnostic (unnecessary)
5. Click "Create" to create the VM.
6. Once the VM is created, access it via SSH using PowerShell (Windows) or Terminal (MacOS) with the provided credentials.
 <p align="center">
<img src="https://i.imgur.com/LWMoaPz.png" height="85%" width="85%" alt="Image"/>
</p> 

7. Wait for the deployment to complete. You'll find the web app URL and default username and password. If not, try admin/admin.
8. After logging in, reset the admin password to Cyberlab123!

**Step 4: Creating the Client Virtual Machine (VM) and Making it Vulnerable**
1. Access the Azure Portal at [Azure Portal](https://portal.azure.com/).
2. Search for "Virtual Machines" and create a new VM with these settings:
   - Resource Group: Vulnerability-Management
   - VM Name: Win10-Vulnerable
   - Region: Same as the OpenVAS VM (East US 2)
   - Virtual Network: Same as OpenVAS
   - Image: Windows 10 Pro
   - Size: Any size with 2 vCPUs
   - Username: azureuser / Password: Cyberlab123!
   - Networking: Same Vnet as OpenVAS

<p align="center">
<img src="https://i.imgur.com/OUkGDYk.png" height="85%" width="85%" alt="Image"/>
</p> 

3. After creating the VM, confirm you can RDP into it using the provided credentials.
4. Make the VM vulnerable by:
   - Disabling the Windows Firewall
   - Installing outdated software: Firefox Setup 97.0b5, VLC Player vlc-1.1.7-win32, and Adobe Reader 10.0_AdbeRdr1000_en_US_1_
   - Restart the VM

**Step 5: Configuring and Running the First Unauthenticated Scan with OpenVAS**
1. Log in to OpenVAS and go to Assets → Hosts → New Host.
2. Add the Client VM's PRIVATE IP Address.
3. Create a new Target from the Host and name it "Azure Vulnerable VMs."
4. Create a new Task with the name "Scan - Azure Vulnerable VMs" targeting "Azure Vulnerable VMs."
5. Start the "Scan - Azure Vulnerable VMs" Task and monitor its status.
6. After the scan completes, click the date under "Last Report" to review the results, focusing on the "Results" tab.

  <p align="center">
<img src="https://i.imgur.com/imNh547.png" height="85%" width="85%" alt="Image"/>
</p> 

**Step 6: Configuring Credentialed Scans (Within VM)**
1. Disable the Windows Firewall.
2. Disable User Account Control.
3. Enable Remote Registry.
4. Set the Registry Key as per the provided instructions:
   
  - Launch Registry Editor (regedit.exe) in “Run as administrator” mode and grant Admin Approval, if requested
  - Navigate to HKEY_LOCAL_MACHINE hive
  - Open SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System key
  - Create a new DWORD (32-bit) value with the following properties: Name: LocalAccountTokenFilterPolicy Value: 1
  - Close Registry Editor
  - Restart the VM
  - 
<p align="center">
<img src="" height="85%" width="85%" alt="Image"/>
</p> 
    

**Step 7: Configuring Credentialed Scans (OpenVAS)**
1. In OpenVAS, go to Configuration → Credentials → New Credential.
   - Name / Comment: "Azure VM Credentials"
   - Allow Insecure Use: Yes
   - Username: azureuser
   - Password: Cyberlab123!
2. Go to Configuration → Targets and clone the previous Target, naming it "Azure Vulnerable VMs - Credentialed Scan."
   - Ensure the Private IP is still accurate.
   - Under Credentials → SMB, select the newly created "Azure VM Credentials."

**Step 8: Executing Credentialed Scan against Vulnerable Windows VM**
1. In Greenbone / OpenVAS, navigate to Scans → Tasks.
2. Clone the "Scan - Azure Vulnerable VMs" Task and edit it:
   -  Name / Comment: "Scan - Azure Vulnerable VMs - Credentialed"
   -  Targets: Azure Vulnerable VMs - Credentialed Scan
3. Launch the new Credentialed Scan and wait for it to complete.
   


**Step 9: Remediate Vulnerabilities**
1. Log back into your Win10-Vulnerable VM.
2. Uninstall Adobe Reader, VLC Player, and Firefox.
3. Restart the VM.

**Step 10: Verify Remediations**
1. Re-initiate the "Scan - Azure Vulnerable VMs - Credentialed" scan and observe the results.

